# 原统架构设计师教程 (笫4版)

# 1. 安全关联和安全策略

$4 ) 是指提供通信安全服务的发送方和接收方之间，它是进行通信的双方经协商建立起来的向的，如果要对两台主机 ^ 与 8 实现双向安全，则需要两个安全关联，每个方向一个: (4, 4)。安全关联的内容包含了卫数据包是否加密认证，以及加密。认证采用的算法。密钥等相关信息。所有的 $4 记录都存放在安全关联数据库中，按散列方式存取。

通信中为数据包提供的安全服务库中，根据选择符 (包括源地址，目的地址。协议。端口等) 进行检索。安全策略通常与 $4 合作，共同作用于通信的数据包。

# 2.

4协议先将数据进行校验和加密，然后封装为卫包，从而实现无连接通信的数据完整性。数据源认证和防止重放攻击_能。在认证机制上，它所覆盖的范围比 }$卫 的广，包括对卫头中一些选项的认证。如图 16-3 所示。

# 图 16-3

头
41头
被保护的数据
# 图 16-4

4玷头的格式如图 16-4 所示，包括: 下一报头。有效载荷长度。保留位。安全参数索引。序列号。认证数据。

下一个报头
有效载荷长度
保留位
安全参数索引 (5?)
序列号
认证数据 (40)

4玷使用的典型的认证算法是一种迭代型的消息摘要算法。可以提供完整性服务。生一个唯一的128位消息摘要。由于消息摘要是唯一的。所以对信息的任何修改都将得到另一个不同的消息摘要，因此能防止消息被篡改。从而保证了数据的完整性。